{"version":3,"sources":["components/Main/Category.js","components/Main/Main.js","App.js","components/OAuth/Login.js","components/Raffle/Unlotted.js","components/Raffle/Regist.js","components/Raffle/Raffle.js","Root.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","grid","height","background","minHeight","disable","opacity","typography","color","areEqual","prevProps","nextProps","category","name","Category","onClick","classes","Grid","container","justify","direction","className","clsx","e","Typography","variant","key","transCategory","React","memo","Main","handleClick","padding","fetch","process","then","response","ok","console","log","App","history","SetRaffle","useState","korea","western","china","japan","snack","setCategory","useEffect","raffle","Object","entries","chkCategory","push","Box","Container","maxWidth","box","marginLeft","marginTop","typo_first","textAlign","typo_else","Login","location","match","setToken","query","queryString","parse","search","params","getToken","code","a","json","hasOwnProperty","access_token","setTimeout","CircularProgress","size","to","bottomGridContainer","spacing","bottomGridItem","paper","Unlotted","unlotted","map","menu","index","item","xs","Paper","bottomBox","borderTop","marginRight","width","register","border","borderRadius","registerHeader","marginBottom","zIndex","registerBody","registerFooter","justifyContent","alignItems","textArea","resize","lineHeight","registerButton","textTransform","registerTab","borderBottom","Regist","token","issueNumber","updateMenu","registValue","setRegistValue","url","join","placeholder","onChange","target","value","Button","method","headers","Authorization","Accept","body","JSON","stringify","alert","catch","href","topGridContainer","topGridItem","raffleMenu","cursor","middleBox","overflow","issue_number","getMenu","answer","comments","forEach","Raffle","menus","setMenus","raffleResult","setRaffleResult","align","m_len","length","randomNum","Math","floor","random","Root","basename","exact","path","render","props","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"8SAIMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,OAAO,OACPC,WAAY,kBACZC,UAAW,SAGbC,QAAS,CACPC,QAAS,IAEXC,WAAY,CACVC,MAAM,aAIJC,EAAW,SAACC,EAAWC,GAC3B,OAAOD,EAAUE,SAASF,EAAUG,QAAUF,EAAUC,SAASD,EAAUE,OAGvEC,EAAW,SAAC,GAA+B,IAA9BF,EAA6B,EAA7BA,SAAUG,EAAmB,EAAnBA,QAASF,EAAU,EAAVA,KAC9BG,EAAUlB,IAmBhB,OACE,cAACmB,EAAA,EAAD,CAAMC,WAAS,EACTC,QAAS,SACTC,UAAS,SACTC,UAAWC,YAAKN,EAAQf,KAAT,eACZe,EAAQX,SAAWO,EAASC,KAE/BE,QAAS,SAACQ,GACRR,EAAQF,IAPhB,SAUE,cAACW,EAAA,EAAD,CAAYC,QAAO,KACPJ,UAAWL,EAAQT,WAD/B,SA5BkB,SAACmB,GACrB,OAAQA,GACN,IAAK,QACH,MAAO,eACT,IAAK,UACH,MAAO,eACT,IAAK,QACH,MAAO,eACT,IAAK,QACH,MAAO,eACT,IAAK,QACH,MAAO,eACT,QACE,MAAO,SAkBNC,CAAcd,QAMRe,MAAMC,KAAKf,EAAUL,GC7CrBqB,EAdF,SAAC,GAA6B,IAA5BlB,EAA2B,EAA3BA,SAAUmB,EAAiB,EAAjBA,YACvB,OACE,eAACd,EAAA,EAAD,CAAMC,WAAS,EACTE,UAAS,SADf,UAGE,cAAC,EAAD,CAAUR,SAAUA,EAAUC,KAAI,QAAWE,QAASgB,IACtD,cAAC,EAAD,CAAUnB,SAAUA,EAAUC,KAAI,UAAaE,QAASgB,IACxD,cAAC,EAAD,CAAUnB,SAAUA,EAAUC,KAAI,QAAWE,QAASgB,IACtD,cAAC,EAAD,CAAUnB,SAAUA,EAAUC,KAAI,QAAWE,QAASgB,IACtD,cAAC,EAAD,CAAUnB,SAAUA,EAAUC,KAAI,QAAWE,QAASgB,QCRtDjC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkB,UAAW,CACTc,QAAS,OAKbC,MAAM,GAAD,OAAIC,yCAAJ,iBACFC,MAAK,SAAAC,GACCA,EAASC,IACZC,QAAQC,IAAI,gBAIlB,IAmDeC,EAnDH,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,QACNzB,GAD8B,EAAf0B,UACL5C,KAEhB,EAAgC6C,mBAC9B,CACEC,OAAO,EACPC,SAAS,EACTC,OAAO,EACPC,OAAO,EACPC,OAAO,IANX,mBAAOpC,EAAP,KAAiBqC,EAAjB,KAmCA,OAPArB,IAAMsB,WAAU,WACd,IAAMxB,EAfY,WAElB,IADA,IAAIyB,EAAS,GACb,MAA2BC,OAAOC,QAAQzC,GAA1C,eAAqD,CAAhD,0BAAOc,EAAP,KACH,GADG,KACQ,CACT,GAAe,KAAXyB,EACF,OAAO,EAEPA,EAASzB,GAIf,OAAOyB,EAIKG,GACR5B,GACFe,EAAQc,KAAR,kBAAwB7B,OAK1B,qBAAKL,UAAU,MAAf,SACE,cAACmC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAYC,SAAQ,KACRrC,UAAWL,EAAQE,UAD/B,SAGE,cAAC,EAAD,CAAMN,SAAUA,EAAUmB,YA/Bd,SAAClB,GACnBoC,GAAY,SAAArC,GAAQ,OAAY,2BAAOA,GAAP,kBAAkBC,GAAQD,EAASC,kB,kDC5BjEf,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2D,IAAK,CACHC,WAAY,mBACZC,UAAW,sBAEbC,WAAY,CACVD,UAAW,QACXE,UAAW,UAEbC,UAAW,CACTD,UAAW,cAwDAE,EApDD,SAAC,GAA0C,IAAzCxB,EAAwC,EAAxCA,QAASyB,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SAClCpD,EAAUlB,IACVuE,EAAQC,IAAYC,MAAML,EAASM,QACnC5D,EAAWuD,EAAMM,OAAO7D,SAExB8D,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEAET3C,MAAM,GAAD,OAAIC,yCAAJ,yBAAgDyC,EAAhD,YAAwDzC,yCAChEC,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASyC,UAGnB1C,MAAK,SAAA0C,GACAA,EAAKC,eAAe,iBACtBV,EAASS,EAAKE,cACdtC,EAAQc,KAAR,kBAAwB3C,KAGxBoE,YAAW,iBAAM,CACfN,EAASC,MACR,SAhBM,2CAAH,sDAyBd,OAJA/C,IAAMsB,WAAU,WACdwB,EAASL,EAAMM,SAIf,eAACnB,EAAA,EAAD,WACE,cAACA,EAAA,EAAD,CAAMnC,UAAWL,EAAQ2C,IAAzB,SACE,cAACsB,EAAA,EAAD,CAAkBzE,MAAM,UACN0E,KAAM,QAG1B,eAAC1D,EAAA,EAAD,CAAYH,UAAWL,EAAQ8C,WAA/B,gEACa,2HAEb,eAACtC,EAAA,EAAD,CAAYH,UAAWL,EAAQgD,UAA/B,+BAEE,cAAC,IAAD,CAAMmB,GAAE,kBAAavE,GAArB,SAAiC,iDAFnC,mGAKA,cAACY,EAAA,EAAD,CAAYH,UAAWL,EAAQgD,UAA/B,oH,QC7DAlE,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoF,oBAAqB,CAEnBpD,QAAShC,EAAMqF,QAAQ,IAEzBC,eAAgB,CACdtD,QAAShC,EAAMqF,QAAQ,IAEzBE,MAAO,CACLrF,OAAQ,OACR8B,QAAShC,EAAMqF,QAAQ,QA6BZG,EAzBE,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACXzE,EAAUlB,IAChB,OACE,cAACmB,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQoE,oBADzB,SAGGK,EAASC,KAAI,SAACC,EAAMC,GACnB,OACE,cAAC3E,EAAA,EAAD,CAAM4E,MAAI,EACJC,GAAI,EACJzE,UAAWL,EAAQsE,eAFzB,SAKE,cAACS,EAAA,EAAD,CAAQ1E,UAAWL,EAAQuE,MACnB9D,QAAS,WADjB,SAGE,cAACD,EAAA,EAAD,UAAamE,OALNC,S,QCzBf9F,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCgG,UAAW,CACT9F,OAAQ,WACRC,WAAY,kBACZ8F,UAAW,gCAEbb,oBAAqB,CACnBlF,OAAQ,OACR0D,WAAY,OACZsC,YAAa,OACbC,MAAO,OACPzC,SAAU,QACV1B,QAAShC,EAAMqF,QAAQ,IAEzBe,SAAU,CACRjG,WAAY,kBACZkG,OAAQ,+BACRC,aAAc,OAEhBC,eAAgB,CACdvE,QAAS,YACTwE,aAAc,OACdC,OAAQ,KAEVC,aAAc,CACZvG,WAAY,kBACZ6B,QAAShC,EAAMqF,QAAQ,GACvBY,UAAW,gCAEbU,eAAgB,CACdxG,WAAY,kBACZ6B,QAAS,YACT4E,eAAgB,WAChBC,WAAY,SACZP,aAAc,OAEhBQ,SAAU,CACRC,OAAQ,WACRZ,MAAO,OACP/F,UAAW,OACX4B,QAAShC,EAAMqF,QAAQ,GACvBiB,aAAc,MACdU,WAAY,OAEdC,eAAgB,CACdC,cAAe,QAEjBC,YAAa,CACXnF,QAAS,WACTxB,MAAO,qBACPL,WAAY,kBACZkG,OAAQ,+BACRe,aAAc,IACdd,aAAc,mBAoGHe,EAhGA,SAAC,GAAgD,IAA/CC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,YAAa3G,EAA0B,EAA1BA,SAAU4G,EAAgB,EAAhBA,WAC7C,EAAsC5F,IAAMe,SAAS,IAArD,mBAAO8E,EAAP,KAAoBC,EAApB,KACM1G,EAAUlB,IAQV6H,EAAM,4CANG,CAAC,aAAD,OACAzF,wBADA,gBAEJA,wCAFI,2CAIGA,2BAJH,2BAIoDtB,IAEFgH,KAAK,KA0BtE,OACE,cAACpE,EAAA,EAAD,CAAKnC,UAAWL,EAAQgF,UAAxB,SACE,cAAC/E,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQoE,oBADzB,SAGE,eAACnE,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQoF,SADzB,UAIE,cAACnF,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQuF,eADzB,SAGE,cAACtF,EAAA,EAAD,CAAM4E,MAAI,EACJxE,UAAWL,EAAQmG,YADzB,4BAQF,cAAClG,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQ0F,aADzB,SAGE,0BAAUrF,UAAWL,EAAQ8F,SACnBe,YAAa,2FACbC,SAAU,SAACvG,GACTmG,EAAenG,EAAEwG,OAAOC,QAE1BA,MAAOP,MAKnB,cAACxG,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQ2F,eADzB,SAIIW,EACA,cAACW,EAAA,EAAD,CAAQxG,QAAS,YACjByD,KAAM,QACN7D,UAAWL,EAAQiG,eACnBlG,QAjEO,WACjBkB,MAAM,uDAAD,OAAwDsF,EAAxD,aAAgF,CACnFW,OAAQ,OACRC,QAAS,CACPC,cAAc,SAAD,OAAWd,GACxBe,OAAQ,kCAEVC,KAAMC,KAAKC,UAAU,CACnBF,KAAMb,MAGPtF,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASyC,UAGnB1C,MAAK,SAAC0C,GACL4D,MAAM,IAAD,OAAKhB,EAAL,oJACLC,EAAe,IACfF,OAEDkB,OAAM,SAACnH,GAAD,OAAOe,QAAQC,IAAIhB,OAyClB,0BAQA,cAAC0G,EAAA,EAAD,CAAQxG,QAAS,YACjByD,KAAM,QACN7D,UAAWL,EAAQiG,eAFnB,SAGE,mBAAG0B,KAAMhB,EAAT,mDC3IV7H,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkB,UAAW,CACTc,QAAS,EACT7B,WAAY,kBACZD,OAAQ,SAEV0I,iBAAkB,CAChB1I,OAAQ,QACRC,WAAY,kBACZ6B,QAAShC,EAAMqF,QAAQ,IAEzBwD,YAAa,CACX3I,OAAQ,OACR8B,QAAShC,EAAMqF,QAAQ,GACvB7E,MAAO,sBAETsI,WAAY,CACV3I,WAAY,kBACZ4I,OAAQ,WAEVC,UAAW,CACT9I,OAAQ,WACRC,WAAY,kBACZ8F,UAAW,+BACXgD,SAAU,cAKVC,EAAe,EACbC,EAAO,uCAAG,WAAOvI,GAAP,eAAAgE,EAAA,yDACRwE,EAAS,GAUM,KAFrBF,EAPoB,CAClB,MAAS,EACT,MAAS,EACT,QAAW,EACX,MAAS,EACT,MAAS,GAEgBtI,IATb,yCAWiB,GAXjB,uBAYRqB,MAAM,uDAAD,OAAwDiH,EAAxD,cACR/G,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASyC,UAGnB1C,MAAK,SAAAkH,GAEJA,EAASC,SAAQ,SAAA3D,GAAI,OAAIyD,EAAO7F,KAAKoC,EAAK2C,YApBhC,gCAuBPc,GAvBO,2CAAH,sDAgHEG,EAtFA,SAAC,GAAoB,IAAnBjC,EAAkB,EAAlBA,MAAOnD,EAAW,EAAXA,MACtB,EAA0BvC,IAAMe,SAAS,IAAzC,mBAAO6G,EAAP,KAAcC,EAAd,KACA,EAAwC7H,IAAMe,SAAS,IAAvD,mBAAO+G,EAAP,KAAqBC,EAArB,KACM/I,EAAWuD,EAAMM,OAAO7D,SACxBI,EAAUlB,IAEhB8B,IAAMsB,WAAU,WACdiG,EAAQvI,GAAUuB,MAAK,SAAAiH,GACN,IAAXA,EACFX,MAAM,SAENgB,EAASL,QAGZ,CAACxI,IAsBJ,OACE,cAAC4C,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAYC,SAAU,KACVrC,UAAWL,EAAQE,UAD/B,UAIE,cAACD,EAAA,EAAD,CAAMC,WAAS,EACTG,UAAWL,EAAQ4H,iBACnB/B,WAAY,SACZ1F,QAAS,SAHf,SAKE,eAACF,EAAA,EAAD,CAAM4E,MAAI,EACJxE,UAAWL,EAAQ6H,YACnB/C,GAAI,GAFV,UAIE,cAACtE,EAAA,EAAD,CAAYC,QAAS,KACTmI,MAAO,OADnB,gCAKA,cAACpI,EAAA,EAAD,CAAYC,QAAS,KACTJ,UAAWL,EAAQ8H,WACnBc,MAAO,OACP7I,QAAS,SAACQ,IA3Cb,WACjB,IAAMsI,EAAQL,EAAMM,OACpB,GAAID,EAAQ,EACVpB,MAAM,6EACD,CACL,IAAMsB,EAAYC,KAAKC,MAAMD,KAAKE,SAAWL,GAC7CF,EAAgBH,EAAMO,KAsCFjB,IAJd,SAOGY,GAA8B,iBAEjC,cAAClI,EAAA,EAAD,CAAYC,QAAS,KACTmI,MAAO,OADnB,qCASJ,cAACpG,EAAA,EAAD,CAAMnC,UAAWL,EAAQgI,UAAzB,SACE,cAAC,EAAD,CAAUvD,SAAU+D,MAItB,cAAC,EAAD,CAAQlC,MAAOA,EAAOC,YAAa2B,EAActI,SAAUA,EAAU4G,WArDxD,WACjB2B,EAAQvI,GAAUuB,MAAK,SAAAiH,GACN,IAAXA,EACFX,MAAM,SAENgB,EAASL,eCrEFe,EAlBF,WAEX,MAA0BvI,IAAMe,SAAS,IAAzC,mBAAO2E,EAAP,KAAclD,EAAd,KAEA,OACE,cAAC,IAAD,CAAegG,SAAUlI,YAAzB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQmI,OAAK,EAACC,KAAK,IACXC,OAAQ,SAACC,GAAD,OAAW,cAAC,EAAD,eAASA,OACpC,cAAC,IAAD,CAAQF,KAAK,mBACLC,OAAQ,SAACC,GAAD,OAAW,cAAC,EAAD,aAAOpG,SAAUA,GAAcoG,OAC1D,cAAC,IAAD,CAAQF,KAAK,oBACLC,OAAQ,SAACC,GAAD,OAAW,cAAC,EAAD,aAAQlD,MAAOA,GAAWkD,aCN9CC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxI,MAAK,YAAkD,IAA/CyI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASV,OACP,cAAC,IAAMW,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.944b3a1e.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Grid, makeStyles, Typography} from \"@material-ui/core\"\r\nimport clsx from \"clsx\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grid: {\r\n    height: `20vh`,\r\n    background: 'rgb(30, 34, 42)',\r\n    minHeight: '100px'\r\n    // 'background-image': \"url('/images/korean.jpg')\"\r\n  },\r\n  disable: {\r\n    opacity: 0.5\r\n  },\r\n  typography: {\r\n    color: `white`\r\n  }\r\n}))\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n  return prevProps.category[prevProps.name] === nextProps.category[nextProps.name]\r\n}\r\n\r\nconst Category = ({category, onClick, name}) => {\r\n  const classes = useStyles()\r\n  // category 이름 번역\r\n  const transCategory = (key) => {\r\n    switch (key) {\r\n      case 'korea':\r\n        return '한식'\r\n      case 'western':\r\n        return '양식'\r\n      case 'china':\r\n        return '중식'\r\n      case 'japan':\r\n        return '일식'\r\n      case 'snack':\r\n        return '분식'\r\n      default:\r\n        return 'Error'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid container\r\n          justify={\"center\"}\r\n          direction={`column`}\r\n          className={clsx(classes.grid,{\r\n            [classes.disable]: !category[name]\r\n          })}\r\n          onClick={(e) => {\r\n            onClick(name)\r\n          }}\r\n    >\r\n      <Typography variant={`h5`}\r\n                  className={classes.typography}\r\n      >\r\n        {transCategory(name)}\r\n      </Typography>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default React.memo(Category, areEqual)\r\n","import React from 'react'\r\nimport Category from \"./Category\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\n\r\nconst Main = ({category, handleClick}) => {\r\n  return (\r\n    <Grid container\r\n          direction={`column`}\r\n    >\r\n      <Category category={category} name={`korea`} onClick={handleClick} />\r\n      <Category category={category} name={`western`} onClick={handleClick} />\r\n      <Category category={category} name={`china`} onClick={handleClick} />\r\n      <Category category={category} name={`japan`} onClick={handleClick} />\r\n      <Category category={category} name={`snack`} onClick={handleClick} />\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Main","import './App.css';\r\nimport {Box, Container, makeStyles} from \"@material-ui/core\";\r\nimport React, {useState} from \"react\"\r\nimport Main from \"./components/Main/Main\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: 0\r\n  },\r\n}))\r\n\r\n// proxy 서버 켜기\r\nfetch(`${process.env.REACT_APP_PROXY}/state/check`)\r\n  .then(response => {\r\n    if (!response.ok) {\r\n      console.log('proxy, on') \r\n    }\r\n  })\r\n\r\nconst App = ({history, SetRaffle}) => {\r\n  const classes = useStyles() // CSS\r\n  // 활성화, 비활성화 토글 변수\r\n  const [category, setCategory] = useState(\r\n    {\r\n      korea: true,\r\n      western: true,\r\n      china: true,\r\n      japan: true,\r\n      snack: true\r\n    }\r\n  )\r\n  // 클릭하면 해당 카테고리 활성화 혹은 비활성화\r\n  const handleClick = (name) => {\r\n    setCategory(category => category = {...category, [name]: !category[name]})\r\n  }\r\n  // 활성화된 category가 한개면 true\r\n  const chkCategory = () => {\r\n    let raffle = ''\r\n    for (const [key, value] of Object.entries(category)) {\r\n      if (value) {\r\n        if (raffle !== '') {\r\n          return false\r\n        } else {\r\n          raffle = key\r\n        }\r\n      }\r\n    }\r\n    return raffle\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const key = chkCategory()\r\n    if (key) {\r\n      history.push(`/raffle/${key}`)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Box>\r\n        <Container  maxWidth={`lg`}\r\n                    className={classes.container}\r\n        >\r\n          <Main category={category} handleClick={handleClick}></Main>\r\n        </Container>\r\n      </Box>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport queryString from 'query-string'\r\nimport {CircularProgress, Box, makeStyles, Typography} from \"@material-ui/core\"\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    marginLeft: 'calc(50% - 50px)',\r\n    marginTop: 'calc(50vh - 100px)'\r\n  },\r\n  typo_first: {\r\n    marginTop: '100px',\r\n    textAlign: 'center'\r\n  },\r\n  typo_else: {\r\n    textAlign: 'center'\r\n  }\r\n}))\r\n\r\nconst Login = ({history, location, match, setToken}) => {\r\n  const classes = useStyles() // css\r\n  const query = queryString.parse(location.search) // URL 파싱\r\n  const category = match.params.category // 선택한 category\r\n  \r\n  const getToken = async (code) => {\r\n    // 토큰 발급\r\n    await fetch(`${process.env.REACT_APP_PROXY}/access_token/${code}/${process.env.REACT_APP_STATE}`)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        }\r\n      })\r\n      .then(json => {\r\n        if (json.hasOwnProperty('access_token')) {\r\n          setToken(json.access_token)\r\n          history.push(`/raffle/${category}`)\r\n        } else {\r\n          // 서버가 꺼져있는 경우 반복 요청(서버 실행시간 13초)\r\n          setTimeout(() => [\r\n            getToken(code)\r\n          ], 15000)\r\n        }\r\n      })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    getToken(query.code)\r\n  })\r\n\r\n  return (\r\n    <Box>\r\n      <Box  className={classes.box}>\r\n        <CircularProgress color=\"primary\" \r\n                          size={100}\r\n        />\r\n      </Box>\r\n      <Typography className={classes.typo_first}>\r\n        잠시 기다려주세요. <strike>무료 서버라서 그런지 느리네요.</strike>\r\n      </Typography>\r\n      <Typography className={classes.typo_else}>\r\n        아니면 \r\n        <Link to={`/raffle/${category}`}><b> 여길 </b></Link>\r\n        눌러서 이전 화면으로 돌아가셨다가\r\n      </Typography>\r\n      <Typography className={classes.typo_else}>\r\n        조금 있다가 다시 돌아오면 될 거에요!!!\r\n      </Typography>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport {Grid, makeStyles, Paper, Typography} from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  bottomGridContainer: {\r\n    // height: '100%',\r\n    padding: theme.spacing(1)\r\n  },\r\n  bottomGridItem: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    height: '100%',\r\n    padding: theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst Unlotted = ({unlotted}) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Grid container\r\n          className={classes.bottomGridContainer}\r\n    >\r\n      {unlotted.map((menu, index) => {\r\n        return (\r\n          <Grid item\r\n                xs={3}\r\n                className={classes.bottomGridItem}\r\n                key={index}\r\n          >\r\n            <Paper  className={classes.paper}\r\n                    variant={'outlined'}\r\n            >\r\n              <Typography>{menu}</Typography>\r\n            </Paper>\r\n          </Grid>\r\n        )\r\n      })}\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Unlotted\r\n","import React from 'react'\r\nimport {Grid, makeStyles, Box, Button} from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  bottomBox: {\r\n    height: '243.75px',\r\n    background: 'rgb(30, 34, 42)',\r\n    borderTop: '1px solid rgb(201, 209, 217)',\r\n  },\r\n  bottomGridContainer: {\r\n    height: '100%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    width: '100%',\r\n    maxWidth: '760px',\r\n    padding: theme.spacing(2),\r\n  },\r\n  register: {\r\n    background: 'rgb(40, 44, 52)',\r\n    border: '1px solid rgb(201, 209, 217)',\r\n    borderRadius: '6px',\r\n  },\r\n  registerHeader: {\r\n    padding: '8px 8px 0',\r\n    marginBottom: '-1px',\r\n    zIndex: '1'\r\n  },\r\n  registerBody: {\r\n    background: 'rgb(30, 34, 42)',\r\n    padding: theme.spacing(1),\r\n    borderTop: '1px solid rgb(201, 209, 217)',\r\n  },\r\n  registerFooter: {\r\n    background: 'rgb(30, 34, 42)',\r\n    padding: '0 8px 8px',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    borderRadius: '6px'\r\n  },\r\n  textArea: {\r\n    resize: 'vertical',\r\n    width: '100%',\r\n    minHeight: '90px',\r\n    padding: theme.spacing(1),\r\n    borderRadius: '6px',\r\n    lineHeight: '1.5'\r\n  },\r\n  registerButton: {\r\n    textTransform: 'none'\r\n  },\r\n  registerTab: {\r\n    padding: '8px 16px',\r\n    color: 'rgb(255, 255, 255)',\r\n    background: 'rgb(30, 34, 42)',\r\n    border: '1px solid rgb(201, 209, 217)',\r\n    borderBottom: '0',\r\n    borderRadius: '6px 6px 0 0',\r\n  }\r\n}))\r\n\r\nconst Regist = ({token, issueNumber, category, updateMenu}) => {\r\n  const [registValue, setRegistValue] = React.useState('') // 메뉴 등록 value\r\n  const classes = useStyles() // css\r\n  // code 발급 경로 url 설정\r\n  const params = [\r\n    `client_id=${process.env.REACT_APP_CLIENT_ID}`,\r\n    `state=${process.env.REACT_APP_STATE}`,\r\n    `scope=public_repo`,\r\n    `redirect_uri=${process.env.REACT_APP_REDIRECT}/what-eat/login/${category}`\r\n  ]\r\n  const url = 'https://github.com/login/oauth/authorize?' + params.join('&')\r\n  // 메뉴 등록\r\n  const registMenu = () => {\r\n    fetch(`https://api.github.com/repos/wesbin/what-eat/issues/${issueNumber}/comments`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `token ${token}`,\r\n        Accept: 'application/vnd.github.v3+json'\r\n      },\r\n      body: JSON.stringify({\r\n        body: registValue\r\n      })\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        }\r\n      })\r\n      .then((json) => {\r\n        alert(`'${registValue}' 메뉴가 등록 중입니다. 화면에 보이는건 느릴 수 있어요.`)\r\n        setRegistValue('')\r\n        updateMenu()\r\n      })\r\n      .catch((e) => console.log(e))\r\n  }\r\n\r\n  return (\r\n    <Box className={classes.bottomBox}>\r\n      <Grid container\r\n            className={classes.bottomGridContainer}\r\n      >\r\n        <Grid container\r\n              className={classes.register}\r\n        >\r\n          {/* Header #s */}\r\n          <Grid container\r\n                className={classes.registerHeader}\r\n                >\r\n            <Grid item\r\n                  className={classes.registerTab}\r\n                  >\r\n              메뉴\r\n            </Grid>\r\n          </Grid>\r\n          {/* Header #e */}\r\n          {/* Body #s */}\r\n          <Grid container\r\n                className={classes.registerBody}\r\n                >\r\n            <textarea className={classes.textArea}\r\n                      placeholder={'등록하고 싶은 메뉴를 적어주세요.'}\r\n                      onChange={(e) => {\r\n                        setRegistValue(e.target.value)\r\n                      }}\r\n                      value={registValue}\r\n                      />\r\n          </Grid>\r\n          {/* Body #s */}\r\n          {/* Footer #s */}\r\n          <Grid container\r\n                className={classes.registerFooter}\r\n                >\r\n            {\r\n              token ?\r\n              <Button variant={'contained'}\r\n              size={'small'}\r\n              className={classes.registerButton}\r\n              onClick={registMenu}\r\n              >\r\n                등록\r\n              </Button>\r\n              :\r\n              <Button variant={'contained'}\r\n              size={'small'}\r\n              className={classes.registerButton}>\r\n                <a href={url}>GitHub 로그인</a>\r\n              </Button>\r\n            }\r\n          </Grid>\r\n          {/* Footer #e */}\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Regist\r\n","import React from 'react'\r\nimport {Grid, makeStyles, Box, Typography, Container} from \"@material-ui/core\"\r\nimport Unlotted from './Unlotted'\r\n\r\nimport Regist from './Regist'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: 0,\r\n    background: 'rgb(30, 34, 42)',\r\n    height: '100vh'\r\n  },\r\n  topGridContainer: {\r\n    height: '390px',\r\n    background: 'rgb(30, 34, 42)',\r\n    padding: theme.spacing(2)\r\n  },\r\n  topGridItem: {\r\n    height: '100%',\r\n    padding: theme.spacing(8),\r\n    color: 'rgb(255, 255, 255)',\r\n  },\r\n  raffleMenu: {\r\n    background: 'rgb(40, 44, 52)',\r\n    cursor: 'pointer'\r\n  },\r\n  middleBox: {\r\n    height: '341.25px',\r\n    background: 'rgb(30, 34, 42)',\r\n    borderTop: '1px solid rgb(201, 209, 217)',\r\n    overflow: 'scroll',\r\n  },\r\n}))\r\n\r\n// 현재 타겟이 되는 이슈의 번호\r\nlet issue_number = 0\r\nconst getMenu = async (category) => {\r\n  const answer = [] // 메뉴 이름들\r\n  const categoryNum = {\r\n    'korea': 1,\r\n    'china': 2,\r\n    'western': 3,\r\n    'japan': 4,\r\n    'snack': 5\r\n  }\r\n  issue_number = categoryNum[category]\r\n  // 이슈 번호를 사용하여 코멘트 불러오기\r\n  if (issue_number === 0) return 0\r\n  await fetch(`https://api.github.com/repos/wesbin/what-eat/issues/${issue_number}/comments`)\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json()\r\n      }\r\n    })\r\n    .then(comments => {\r\n      // 메뉴 이름 추출\r\n      comments.forEach(menu => answer.push(menu.body))\r\n    })\r\n\r\n  return answer\r\n}\r\n\r\nconst Raffle = ({token, match}) => {\r\n  const [menus, setMenus] = React.useState([]) // Git에서 불러온 전체 메뉴\r\n  const [raffleResult, setRaffleResult] = React.useState('') // 메뉴 추첨 결과\r\n  const category = match.params.category // 선택한 category\r\n  const classes = useStyles() // css\r\n  // Git에서 메뉴 불러와 세팅\r\n  React.useEffect(() => {\r\n    getMenu(category).then(answer => {\r\n      if (answer === 0) {\r\n        alert('Error')\r\n      } else {\r\n        setMenus(answer)\r\n      }\r\n    })\r\n  }, [category])\r\n  // 메뉴 추첨\r\n  const raffleMenu = () => {\r\n    const m_len = menus.length\r\n    if (m_len < 1) {\r\n      alert('메뉴들이 도착하고 있어요!')\r\n    } else {\r\n      const randomNum = Math.floor(Math.random() * m_len) // 랜덤 변수\r\n      setRaffleResult(menus[randomNum])\r\n    }\r\n  }\r\n  // 메뉴 등록 후 업데이트\r\n  const updateMenu = () => {\r\n    getMenu(category).then(answer => {\r\n      if (answer === 0) {\r\n        alert('Error')\r\n      } else {\r\n        setMenus(answer)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Container  maxWidth={'lg'}\r\n                  className={classes.container}\r\n      >\r\n        {/* Top #s */}\r\n        <Grid container\r\n              className={classes.topGridContainer}\r\n              alignItems={'center'}\r\n              justify={'center'}\r\n        >\r\n          <Grid item\r\n                className={classes.topGridItem}\r\n                xs={12}\r\n          >\r\n            <Typography variant={'h2'}\r\n                        align={'left'}\r\n            >\r\n              오늘은\r\n            </Typography>\r\n            <Typography variant={'h2'}\r\n                        className={classes.raffleMenu}\r\n                        align={'left'}\r\n                        onClick={(e) => {\r\n                          raffleMenu()\r\n                        }}\r\n            >\r\n              {raffleResult ? raffleResult : '이건'}\r\n            </Typography>\r\n            <Typography variant={'h2'}\r\n                        align={'left'}\r\n            >\r\n              어때요\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        {/* Top #e */}\r\n        {/* Middle #s */}\r\n        <Box  className={classes.middleBox}>\r\n          <Unlotted unlotted={menus}></Unlotted>\r\n        </Box>\r\n        {/* Middle #e */}\r\n        {/* Bottom #s */}\r\n        <Regist token={token} issueNumber={issue_number} category={category} updateMenu={updateMenu}/>\r\n        {/* Bottom #e */}\r\n      </Container>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Raffle\r\n","import React from 'react'\r\nimport {BrowserRouter, Route, Switch} from  'react-router-dom'\r\nimport App from './App'\r\nimport Login from './components/OAuth/Login'\r\nimport Raffle from './components/Raffle/Raffle'\r\n\r\nconst Root = () => {\r\n\r\n  const [token, setToken] = React.useState('')\r\n\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route  exact path=\"/\" \r\n                render={(props) => <App {...props}/>}/>\r\n        <Route  path=\"/login/:category\" \r\n                render={(props) => <Login setToken={setToken} {...props}/>}/>\r\n        <Route  path=\"/raffle/:category\"\r\n                render={(props) => <Raffle token={token} {...props}/>}/>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Root\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Root from './Root';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Root/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}