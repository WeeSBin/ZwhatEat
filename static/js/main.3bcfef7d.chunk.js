(this["webpackJsonpwhat-eat"]=this["webpackJsonpwhat-eat"]||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=(n(52),n(20)),s=n(16),u=n(34),b=n(5),l=n(22),d=(n(53),n(84)),h=n(81),j=n(78),g=n(79),p=n(80),f=n(4),x=n(2),m=Object(j.a)((function(e){return{grid:{height:"20vh",background:"rgb(30, 34, 42)"},disable:{opacity:.5},typography:{color:"white"}}})),O=function(e,t){return e.category[e.name]===t.category[t.name]},k=function(e){var t=e.category,n=e.onClick,a=e.name,r=m();return Object(x.jsx)(g.a,{item:!0,className:Object(f.a)(r.grid,Object(l.a)({},r.disable,!t[a])),onClick:function(e){n(a)},children:Object(x.jsx)(p.a,{variant:"h5",className:r.typography,children:function(e){switch(e){case"korea":return"\ud55c\uc2dd";case"western":return"\uc591\uc2dd";case"china":return"\uc911\uc2dd";case"japan":return"\uc77c\uc2dd";case"snack":return"\ubd84\uc2dd";default:return"Error"}}(a)})})},y=r.a.memo(k,O),v=function(e){var t=e.category,n=e.handleClick;return Object(x.jsxs)(g.a,{container:!0,direction:"column",children:[Object(x.jsx)(y,{category:t,name:"korea",onClick:n}),Object(x.jsx)(y,{category:t,name:"western",onClick:n}),Object(x.jsx)(y,{category:t,name:"china",onClick:n}),Object(x.jsx)(y,{category:t,name:"japan",onClick:n}),Object(x.jsx)(y,{category:t,name:"snack",onClick:n})]})},w=function(e){var t=e.history,n=(e.SetRaffle,Object(a.useState)({korea:!0,western:!0,china:!0,japan:!0,snack:!0})),c=Object(s.a)(n,2),i=c[0],u=c[1];return r.a.useEffect((function(){var e=function(){for(var e="",t=0,n=Object.entries(i);t<n.length;t++){var a=Object(s.a)(n[t],2),r=a[0];if(a[1]){if(""!==e)return!1;e=r}}return e}();e&&t.push("/raffle/".concat(e))})),Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(d.a,{children:Object(x.jsx)(h.a,{maxWidth:"lg",children:Object(x.jsx)(v,{category:i,handleClick:function(e){u((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e,!t[e]))}))}})})})})},N=n(25),C=n.n(N),T=n(33),B=n(42),G=n.n(B),_=n(82),S=Object(j.a)((function(e){return{box:{marginLeft:"calc(50% - 100px)",marginTop:"calc(50vh - 100px)"},typo_first:{marginTop:"100px",textAlign:"center"},typo_else:{textAlign:"center"}}})),I=function(e){var t=e.history,n=e.location,a=e.match,c=e.setToken,i=S(),o=G.a.parse(n.search),s=a.params.category,b=function(){var e=Object(T.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://github-proxy.azurewebsites.net/access_token/".concat(n,"/").concat("4e7a1b9e-e5fc-4360-a894-bd764a2fb915")).then((function(e){if(e.ok)return e.json()})).then((function(e){e.hasOwnProperty("access_token")&&(c(e.access_token),t.push("/raffle/".concat(s)))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.useEffect((function(){b(o.code)})),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(d.a,{className:i.box,children:Object(x.jsx)(_.a,{color:"primary",size:100})}),Object(x.jsx)(p.a,{className:i.typo_first,children:"\uc7a0\uc2dc \uae30\ub2e4\ub824\uc8fc\uc138\uc694. \ubb34\ub8cc \uc11c\ubc84\ub77c\uc11c \uadf8\ub7f0\uc9c0 \ub290\ub824\uc694. \u3160\u3160"}),Object(x.jsxs)(p.a,{className:i.typo_else,children:[Object(x.jsxs)(u.b,{to:"/raffle/".concat(s),children:["\uc544\ub2c8\uba74 ",Object(x.jsx)("b",{children:"\uc5ec\uae38"})]})," \ub20c\ub7ec\uc11c \uc774\uc804 \ud654\uba74\uc73c\ub85c \ub3cc\uc544\uac00\uc168\ub2e4\uac00"]}),Object(x.jsx)(p.a,{className:i.typo_else,children:"\uc870\uae08 \uc788\ub2e4\uac00 \ub2e4\uc2dc \ub3cc\uc544\uc624\uba74 \ub420 \uac70\uc5d0\uc694!!!"})]})},z=n(83),E=Object(j.a)((function(e){return{bottomGridContainer:{padding:e.spacing(1)},bottomGridItem:{padding:e.spacing(1)},paper:{height:"100%",padding:e.spacing(2)}}})),A=function(e){var t=e.unlotted,n=E();return Object(x.jsx)(g.a,{container:!0,className:n.bottomGridContainer,children:t.map((function(e,t){return Object(x.jsx)(g.a,{item:!0,xs:3,className:n.bottomGridItem,children:Object(x.jsx)(z.a,{className:n.paper,variant:"outlined",children:Object(x.jsx)(p.a,{children:e})})},t)}))})},M=n(85),F=Object(j.a)((function(e){return{bottomBox:{height:"25vh",background:"rgb(30, 34, 42)",borderTop:"1px solid rgb(201, 209, 217)"},bottomGridContainer:{height:"100%",marginLeft:"auto",marginRight:"auto",width:"100%",maxWidth:"760px",padding:e.spacing(2)},register:{background:"rgb(40, 44, 52)",border:"1px solid rgb(201, 209, 217)",borderRadius:"6px"},registerHeader:{padding:"8px 8px 0",marginBottom:"-1px",zIndex:"1"},registerBody:{background:"rgb(30, 34, 42)",padding:e.spacing(1),borderTop:"1px solid rgb(201, 209, 217)"},registerFooter:{background:"rgb(30, 34, 42)",padding:"0 8px 8px",justifyContent:"flex-end",alignItems:"center",borderRadius:"6px"},textArea:{resize:"vertical",width:"100%",minHeight:"90px",padding:e.spacing(1),borderRadius:"6px",lineHeight:"1.5"},registerButton:{textTransform:"none"},registerTab:{padding:"8px 16px",color:"rgb(255, 255, 255)",background:"rgb(30, 34, 42)",border:"1px solid rgb(201, 209, 217)",borderBottom:"0",borderRadius:"6px 6px 0 0"}}})),R=function(e){var t=e.token,n=e.issueNumber,a=e.category,c=e.updateMenu,i=r.a.useState(""),o=Object(s.a)(i,2),u=o[0],b=o[1],l=F(),h="https://github.com/login/oauth/authorize?"+["client_id=".concat("a6fc9e27dc12db15ee59"),"state=".concat("4e7a1b9e-e5fc-4360-a894-bd764a2fb915"),"scope=public_repo","redirect_uri=https://wesbin.github.io/what-eat/login/".concat(a)].join("&");return Object(x.jsx)(d.a,{className:l.bottomBox,children:Object(x.jsx)(g.a,{container:!0,className:l.bottomGridContainer,children:Object(x.jsxs)(g.a,{container:!0,className:l.register,children:[Object(x.jsx)(g.a,{container:!0,className:l.registerHeader,children:Object(x.jsx)(g.a,{item:!0,className:l.registerTab,children:"\uba54\ub274"})}),Object(x.jsx)(g.a,{container:!0,className:l.registerBody,children:Object(x.jsx)("textarea",{className:l.textArea,placeholder:"\ub4f1\ub85d\ud558\uace0 \uc2f6\uc740 \uba54\ub274\ub97c \uc801\uc5b4\uc8fc\uc138\uc694.",onChange:function(e){b(e.target.value)},value:u})}),Object(x.jsx)(g.a,{container:!0,className:l.registerFooter,children:t?Object(x.jsx)(M.a,{variant:"contained",size:"small",className:l.registerButton,onClick:function(){fetch("https://api.github.com/repos/wesbin/what-eat/issues/".concat(n,"/comments"),{method:"POST",headers:{Authorization:"token ".concat(t),Accept:"application/vnd.github.v3+json"},body:JSON.stringify({body:u})}).then((function(e){if(e.ok)return e.json()})).then((function(e){alert("".concat(u," \ub4f1\ub85d \ud588\uc2b5\ub2c8\ub2e4. \ud654\uba74\uc5d0 \ubcf4\uc774\ub294\uac74 \ub290\ub9b4 \uc218 \uc788\uc5b4\uc694.")),b(""),c()})).catch((function(e){return console.log(e)}))},children:"\ub4f1\ub85d"}):Object(x.jsx)(M.a,{variant:"contained",size:"small",className:l.registerButton,children:Object(x.jsx)("a",{href:h,children:"GitHub \ub85c\uadf8\uc778"})})})]})})})},H=Object(j.a)((function(e){return{topGridContainer:{height:"40vh",background:"rgb(30, 34, 42)",padding:e.spacing(2)},topGridItem:{height:"100%",padding:e.spacing(8)},whiteText:{color:"rgb(255, 255, 255)"},raffleMenu:{background:"rgb(40, 44, 52)"},middleBox:{height:"35vh",background:"rgb(30, 34, 42)",borderTop:"1px solid rgb(201, 209, 217)",overflow:"scroll"}}})),L=0,P=function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],0!==(L={korea:1,china:2,western:3,japan:4,snack:5}[t])){e.next=5;break}return e.abrupt("return",0);case 5:return e.next=7,fetch("https://api.github.com/repos/wesbin/what-eat/issues/".concat(L,"/comments")).then((function(e){if(e.ok)return e.json()})).then((function(e){e.forEach((function(e){return n.push(e.body)}))}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=e.token,n=e.match,a=r.a.useState([]),c=Object(s.a)(a,2),i=c[0],o=c[1],u=r.a.useState(""),b=Object(s.a)(u,2),l=b[0],j=b[1],m=n.params.category,O=H();r.a.useEffect((function(){P(m).then((function(e){0===e?alert("Error"):o(e)}))}),[m]);return Object(x.jsx)(d.a,{children:Object(x.jsxs)(h.a,{maxWidth:"lg",children:[Object(x.jsx)(g.a,{container:!0,className:O.topGridContainer,alignItems:"center",justify:"center",children:Object(x.jsxs)(g.a,{item:!0,className:O.topGridItem,xs:12,children:[Object(x.jsx)(p.a,{variant:"h2",className:O.whiteText,align:"left",children:"\uc624\ub298\uc740"}),Object(x.jsx)(p.a,{variant:"h2",className:Object(f.a)(O.whiteText,O.raffleMenu),align:"left",onClick:function(e){!function(){var e=i.length;if(e<1)alert("\uba54\ub274\ub4e4\uc774 \ub3c4\ucc29\ud558\uace0 \uc788\uc5b4\uc694!");else{var t=Math.floor(Math.random()*e);j(i[t])}}()},children:l||"\uc774\uac74"}),Object(x.jsx)(p.a,{variant:"h2",className:O.whiteText,align:"left",children:"\uc5b4\ub54c\uc694"})]})}),Object(x.jsx)(d.a,{className:O.middleBox,children:Object(x.jsx)(A,{unlotted:i})}),Object(x.jsx)(R,{token:t,issueNumber:L,category:m,updateMenu:function(){P(m).then((function(e){0===e?alert("Error"):o(e)}))}})]})})},W=function(){var e=r.a.useState(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)(u.a,{basename:"/what-eat",children:Object(x.jsxs)(b.c,{children:[Object(x.jsx)(b.a,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(w,Object(o.a)({},e))}}),Object(x.jsx)(b.a,{path:"/login/:category",render:function(e){return Object(x.jsx)(I,Object(o.a)({setToken:a},e))}}),Object(x.jsx)(b.a,{path:"/raffle/:category",render:function(e){return Object(x.jsx)(J,Object(o.a)({token:n},e))}})]})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(W,{})}),document.getElementById("root")),D()}},[[65,1,2]]]);
//# sourceMappingURL=main.3bcfef7d.chunk.js.map